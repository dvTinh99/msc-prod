(function(){"use strict";var e={5720:function(e,t,a){var l=a(3396);function s(e,t,a,s,n,r){const i=(0,l.up)("BuildPC");return(0,l.wg)(),(0,l.j4)(i)}var n=a(7139),r=a(9242);const i={class:"max-w-[1170px] mx-auto px-[15px] py-[40px]"},o=(0,l._)("div",{class:"mb-2"},[(0,l._)("h2",{class:"uppercase xs:text-sm lg:text-xl font-semibold"}," chọn linh kiện xây dựng cấu hình "),(0,l._)("span",{class:"block border-b pt-1"})],-1),d={class:"flex justify-between items-center mb-6"},c=(0,l.Uk)(" Làm mới "),u=(0,l._)("i",{class:"fa fa-refresh ml-1","aria-hidden":"true"},null,-1),m=[c,u],h={class:"text-red-500 xs:text-sm lg:text-lg font-medium"},p={class:"flex flex-col"},f={class:"xs:max-w-[130px] md:max-w-xs w-full border-r-solid"},x={class:"text-sm font-semibold xs:pl-1 md:pl-5 py-4"},b={class:"flex-1"},g={class:"xs:px-2 lg:px-5 py-2"},w={key:0,class:"flex xs:flex-col lg:flex-row lg:items-center lg:justify-between"},y={class:"flex xs:flex-col lg:flex-row lg:items-center"},P=["src"],_={class:"lg:ml-5 flex flex-col max-w-[18rem]"},v={class:"font-semibold text-sm leading-5 mb-1 break-words"},k={class:"mb-1 leading-4"},C={class:"text-sm"},U={class:"mb-1 leading-4"},I=(0,l._)("span",{class:"text-sm"},"Bảo hành:",-1),j=(0,l._)("p",{class:"mb-1 leading-4"},[(0,l._)("span",{class:"text-sm"},"Kho hàng:"),(0,l.Uk)(" Liên hệ ")],-1),M={class:"flex xs:flex-col lg:flex-row lg:items-center"},D={class:"font-bold text-sm"},L=["onChange"],B=(0,l.Uk)(" = "),T={class:"text-red-500 font-bold text-sm"},V=["onClick"],S=(0,l._)("i",{class:"fa fa-trash","aria-hidden":"true"},null,-1),z=[S],N=["onClick"],E=(0,l._)("i",{class:"fa fa-plus","aria-hidden":"true"},null,-1),O={class:"flex mt-6 gap-1 xs:flex-wrap lg:flex-nowrap"},A=["disabled"],R=(0,l.Uk)(" Lưu cấu hình "),q=(0,l._)("i",{class:"fa fa-floppy-o ml-1","aria-hidden":"true"},null,-1),$=[R,q],H=["disabled"],G=(0,l.Uk)(" Xuất file excel "),F=(0,l._)("i",{class:"fa fa-file-excel-o ml-1","aria-hidden":"true"},null,-1),K=[G,F],Y=["disabled"],Z=(0,l.Uk)(" Xem và tải ảnh cấu hình "),J=(0,l._)("i",{class:"fa fa-file-image-o ml-1","aria-hidden":"true"},null,-1),Q=[Z,J],W=["disabled"],X=(0,l.Uk)(" Xem và in "),ee=(0,l._)("i",{class:"fa fa-print ml-1","aria-hidden":"true"},null,-1),te=[X,ee],ae=["disabled"],le=(0,l.Uk)(" Thêm vào giỏ hàng "),se=(0,l._)("i",{class:"fa fa-cart ml-1","aria-hidden":"true"},null,-1),ne=[le,se];function re(e,t,a,s,c,u){const S=(0,l.up)("ModalPC"),R=(0,l.up)("ModalUser"),q=(0,l.up)("ExportImage");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",i,[o,(0,l._)("div",d,[(0,l._)("button",{class:"bg-red-500 xs:text-sm md:text-sm outline-none xs:px-3 py-2 md:px-5 rounded text-white font-semibold uppercase",onClick:t[0]||(t[0]=e=>u.resetBuildPC())},m),(0,l._)("p",h," Chi phí dự tính: "+(0,n.zw)(new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(u.totalPartPC)),1)]),(0,l._)("div",p,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.products,((a,s)=>((0,l.wg)(),(0,l.iD)("div",{class:"flex items-center border-b last:border-0 border-b-gray-500 odd:bg-gray-200",key:a.id},[(0,l._)("div",f,[(0,l._)("div",x,(0,n.zw)(s+1)+". "+(0,n.zw)(a.title),1)]),(0,l._)("div",b,[(0,l._)("div",g,[e.selectedPart.length>0&&e.selectedPart.find((e=>e.key===a.id))?((0,l.wg)(),(0,l.iD)("div",w,[(0,l._)("div",y,[(0,l._)("img",{class:"w-[100px] h-[100px] object-cover",src:e.selectedPart.find((e=>e.key===a.id)).image||"https://via.placeholder.com/260",alt:""},null,8,P),(0,l._)("div",_,[(0,l._)("p",v,(0,n.zw)(e.selectedPart.find((e=>e.key===a.id)).name),1),(0,l._)("p",k,[(0,l._)("span",C,"Mã SP: "+(0,n.zw)(e.selectedPart.find((e=>e.key===a.id)).id),1)]),(0,l._)("p",U,[I,(0,l.Uk)(" "+(0,n.zw)(e.selectedPart.find((e=>e.key===a.key))?.guarantee||"0 tháng"),1)]),j])]),(0,l._)("div",M,[(0,l._)("span",D,(0,n.zw)(new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.selectedPart.find((e=>e.key===a.id)).price))+" x ",1),(0,l.wy)((0,l._)("input",{type:"number",min:"1","onUpdate:modelValue":t[1]||(t[1]=t=>e.quantity=t),class:"border ml-2 px-1 !max-w-[60px] w-full border-black outline-none",onChange:t=>u.updateQuantity(e.selectedPart.find((e=>e.key===a.id)))},null,40,L),[[r.nr,e.quantity]]),B,(0,l._)("span",T,(0,n.zw)(new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.selectedPart.find((e=>e.key===a.id)).price*e.quantity)),1)]),(0,l._)("button",{onClick:t=>u.removePartPC(e.selectedPart.find((e=>e.key===a.id)).key),class:"text-red-500 !mb-0 !text-xl items-center bg-transparent flex border-0 border-transparent"},z,8,V)])):((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:e=>u.handleOpenModal(a),class:"bg-red-500 text-white font-semibold rounded-[4px] text-sm capitalize xs:p-1 md:py-2 md:px-3"},[E,(0,l.Uk)(" Chọn "+(0,n.zw)(a.title),1)],8,N))])])])))),128))]),(0,l._)("div",O,[(0,l._)("button",{class:"bg-red-500 xs:w-full lg:w-auto text-sm xs:px-3 md:px-3 rounded text-white font-semibold uppercase",onClick:t[2]||(t[2]=e=>u.openSaveBuildPC()),disabled:0===e.selectedPart.length},$,8,A),(0,l._)("button",{class:"bg-red-500 xs:w-full lg:w-auto text-sm xs:px-3 md:px-3 rounded text-white font-semibold uppercase",onClick:t[3]||(t[3]=e=>u.handleExportToExcel()),disabled:0===e.selectedPart.length},K,8,H),(0,l._)("button",{class:"bg-red-500 xs:w-full lg:w-auto text-sm xs:px-3 md:px-3 rounded text-white font-semibold uppercase",onClick:t[4]||(t[4]=(0,r.iM)((e=>u.openExportToImage()),["prevent"])),disabled:0===e.selectedPart.length},Q,8,Y),(0,l._)("button",{class:"bg-red-500 xs:w-full lg:w-auto text-sm xs:px-3 md:px-3 rounded text-white font-semibold uppercase",onClick:t[5]||(t[5]=(0,r.iM)((e=>u.handlePrint()),["prevent"])),disabled:0===e.selectedPart.length},te,8,W),(0,l._)("button",{class:"bg-red-500 xs:w-full lg:w-auto text-sm xs:px-3 md:px-3 rounded text-white font-semibold uppercase",onClick:t[6]||(t[6]=e=>u.handleAddToCart()),disabled:0===e.selectedPart.length},ne,8,ae)])]),(0,l.Wm)(S,{ref:"modal",onAddProduct:u.showData,partID:e.partPCMData},null,8,["onAddProduct","partID"]),(0,l.Wm)(R,{ref:"modalUser",onSaveBuild:u.handleSaveBuildPC},null,8,["onSaveBuild"]),(0,l.Wm)(q,{ref:"modalExportImage",selectedPartPC:{selectedPart:e.selectedPart,totalPartPC:u.totalPartPC}},null,8,["selectedPartPC"])],64)}a(2801);var ie=a(6265),oe=a.n(ie);const de={class:"bg-red-500 xs:py-3 flex justify-between items-center lg:pt-[2px] lg:pb-[2px] pl-3 pr-16"},ce=["onClick"],ue=(0,l._)("i",{class:"fa fa-times text-white text-xl","aria-hidden":"true"},null,-1),me=[ue],he=(0,l._)("span",{class:"xs:hidden md:block md:text-xl text-white"},"Chọn linh kiện",-1),pe={class:"flex justify-between h-full"},fe={class:"xs:hidden md:block md:max-w-[275px] lg:max-w-[400px] w-full bg-gray-200 p-2"},xe=(0,l._)("div",{class:"border border-solid border-gray-400 p-3 font-semibold text-center uppercase mb-4"}," lọc sản phẩm theo ",-1),be={class:"overflow-y-auto md:max-h-[465px] lg:max-h-[473px] h-full"},ge={class:"font-semibold"},we={class:"flex flex-wrap justify-between items-center"},ye={class:"flex items-center cursor-pointer"},Pe=["data-id","value"],_e={class:"ml-2 leading-5"},ve={class:"flex-1"},ke={class:"bg-gray-100 py-3 px-4 flex xs:flex-col md:flex-row items-center justify-between"},Ce={class:"flex items-center custom-modal-pc-right-top"},Ue=(0,l._)("span",{class:"w-[110px]"}," Sắp xếp ",-1),Ie=(0,l._)("option",{value:"asc"},"Mới nhất",-1),je=(0,l._)("option",{value:"desc"},"Giá cao",-1),Me=(0,l._)("option",{value:"asc"},"Giá thấp",-1),De=[Ie,je,Me],Le={class:"flex mb-0 xs:mt-3 md:mt-0 custom-modal-pc-right-paginate"},Be={class:"!mb-0"},Te=["disabled"],Ve=(0,l._)("i",{class:"fa fa-angle-left","aria-hidden":"true"},null,-1),Se=[Ve],ze=["onClick","disabled"],Ne={class:"!mb-0"},Ee=["disabled"],Oe=(0,l._)("i",{class:"fa fa-angle-right","aria-hidden":"true"},null,-1),Ae=[Oe],Re={class:"overflow-y-auto md:max-h-[490px] lg:max-h-[485px] h-full custom-modal-pc-right"},qe={class:"flex"},$e=["src","alt"],He={class:"xs:max-w-[10rem] md:max-w-[15rem] lg:max-w-[28rem] ml-5"},Ge={class:"font-semibold leading-4 mb-1 break-words"},Fe={class:"mb-1 leading-4"},Ke={class:"font-semibold"},Ye={class:"mb-1 leading-4"},Ze=(0,l._)("span",{class:"font-semibold"},"Bảo hành:",-1),Je={class:"mb-1 leading-4"},Qe=(0,l._)("span",{class:"font-semibold"},"Kho hàng:",-1),We={class:"text-red-500 font-bold text-xl"},Xe=["onClick"],et=(0,l.Uk)(" Thêm vào cấu hình "),tt=(0,l._)("i",{class:"fa fa-plus ml-2","aria-hidden":"true"},null,-1),at=[et,tt];function lt(e,t,a,s,i,o){const d=(0,l.up)("vue-final-modal");return(0,l.wg)(),(0,l.j4)(d,(0,l.dG)({modelValue:i.showModalPC,"onUpdate:modelValue":t[5]||(t[5]=e=>i.showModalPC=e)},e.$attrs,{name:"modal-pc","lock-scroll":"false",classes:"flex justify-center items-center","content-class":"xs:max-w-[23rem] md:max-w-[46rem] lg:max-w-7xl w-full relative xs:max-h-[640px] h-full flex !flex-col bg-white custom-modal-pc"}),{default:(0,l.w5)((({close:e})=>[(0,l._)("div",de,[(0,l._)("button",{class:"absolute right-0 !mb-0 outline-none bg-transparent border-0",onClick:e},me,8,ce),he,(0,l.wy)((0,l._)("input",{type:"text",placeholder:"Bạn cần tìm linh kiện gì?",class:"custom-modal-pc-search w-full outline-none overflow-hidden rounded-md p-2","onUpdate:modelValue":t[0]||(t[0]=e=>i.searchText=e)},null,512),[[r.nr,i.searchText]])]),(0,l._)("div",pe,[(0,l._)("div",fe,[xe,(0,l._)("div",be,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.filterLists,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"border-b-solid mb-3",key:e?.key},[(0,l._)("h4",ge,(0,n.zw)(e?.name),1),(0,l._)("ul",we,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e?.items,((e,a)=>((0,l.wg)(),(0,l.iD)("li",{class:"w-1/2 mb-2",key:a},[(0,l._)("label",ye,[(0,l.wy)((0,l._)("input",{type:"checkbox","data-id":e?.key,class:"w-4 h-4 !mb-0 flex-shrink-0",value:e?.key,"onUpdate:modelValue":t[1]||(t[1]=e=>i.company=e)},null,8,Pe),[[r.e8,i.company]]),(0,l._)("span",_e,(0,n.zw)(e?.name)+" ("+(0,n.zw)(e?.count)+")",1)])])))),128))])])))),128))])]),(0,l._)("div",ve,[(0,l._)("div",ke,[(0,l._)("div",Ce,[Ue,(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.sortBy=e),class:"ml-2 border !mb-0 border-black p-1 outline-none overflow-hidden rounded"},De,512),[[r.bM,i.sortBy]])]),(0,l._)("ul",Le,[(0,l._)("li",Be,[(0,l._)("button",{onClick:t[3]||(t[3]=e=>o.handlePrevPage()),class:"w-8 h-8 !p-0 !mb-0 !mr-0 text-center ml-2 border-0 bg-gray-200 rounded outline-none hover:bg-gray-300 disabled:bg-gray-300",disabled:1===i.currentPage},Se,8,Te)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.totalPages,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{class:"!mb-0",key:t},[(0,l._)("button",{onClick:t=>o.getDataPaginate(e),class:(0,n.C_)(["w-8 h-8 !p-0 !mb-0 !mr-0 text-center ml-2 bg-gray-200 rounded outline-none hover:bg-gray-300 disabled:bg-gray-300",{"border text-white bg-[#F24C4C]":e===i.currentPage}]),disabled:"..."===e},(0,n.zw)(e),11,ze)])))),128)),(0,l._)("li",Ne,[(0,l._)("button",{onClick:t[4]||(t[4]=e=>o.handleNextPage()),class:"w-8 h-8 !p-0 !mb-0 !mr-0 text-center ml-2 border-0 bg-gray-200 rounded outline-none hover:bg-gray-300 disabled:bg-gray-300",disabled:o.hasLastPage},Ae,8,Ee)])])]),(0,l._)("div",Re,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.filteredProduct,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:"flex xs:flex-col lg:flex-row justify-between p-5 border-b last:border-b-0"},[(0,l._)("div",qe,[(0,l._)("img",{src:e.image||"https://via.placeholder.com/260",alt:e.name,class:"w-[140px] h-[125px] object-cover"},null,8,$e),(0,l._)("div",He,[(0,l._)("p",Ge,(0,n.zw)(e.name),1),(0,l._)("p",Fe,[(0,l._)("span",Ke,"Mã SP: "+(0,n.zw)(e.id),1)]),(0,l._)("p",Ye,[Ze,(0,l.Uk)(" "+(0,n.zw)(e.guarantee||"0 tháng"),1)]),(0,l._)("p",Je,[Qe,(0,l.Uk)(" "+(0,n.zw)(e.stock_status||"0 tháng"),1)]),(0,l._)("p",We,(0,n.zw)(new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.price)||0),1)])]),(0,l._)("button",{class:"flex xs:mt-4 lg:mt-0 items-center justify-center leading-3 py-1 px-3 h-9 rounded uppercase bg-blue-500 text-white text-[13px] font-semibold",onClick:t=>o.addProduct(e)},at,8,Xe)])))),128))])])])])),_:1},16,["modelValue"])}function st(e,t){let a,l,s=Math.ceil(e/10);t<1?t=1:t>s&&(t=s),s<=5?(a=1,l=s):t<5?(a=1,l=5):t+2>=s?(a=s-4,l=s):(a=t-1,l=t+1);let n=Array.from(new Array(l+1-a).keys()).map((e=>a+e)),r=[];return r=s>=5?[...n,"..."]:n,t>=5&&t<l?r=["...",...n,"..."]:t===l&&(r=["...",...n]),{pages:r,currentPage:t||1}}var nt=st;const rt=[{id:1,label:"Dưới 2 triệu"},{id:2,label:"2 triệu - 5 triệu"},{id:3,label:"5 triệu - 10 triệu"},{id:4,label:"Trên 10 triệu"}];var it={name:"ModalPC",props:["partID"],computed:{filteredProduct(){return this.filterLists?this.productList?.filter((e=>0===this.searchText.length||e.name.toLowerCase().includes(this.searchText))).sort(((e,t)=>"asc"===this.sortBy?e.price-t.price:t.price-e.price)).slice(this.startIndex,this.endIndex):this.productList},totalPages(){const{pages:e}=nt(this.productList?.length,this.currentPage);return e},hasLastPage(){return this.currentPage===this.totalPages[this.totalPages.length-2]}},data(){return{company:[],searchText:"",sortBy:"asc",showModalPC:!1,detailPart:null,productList:[],filterLists:[],currentPage:1,startIndex:0,endIndex:10,quantity:1,priceRanges:rt,filterItem:""}},watch:{showModalPC(e,t){t&&(this.company=[],this.searchText="",this.sortBy="asc",this.startIndex=0,this.endIndex=10,this.currentPage=1,this.filteredProduct=[],this.quantity=1,this.productList=[])},partID(e,t){e!==t&&fetch(`https://mscshop.vn/wp-json/wp/v3/all-taxonomy?category=${this.partID}`,{method:"GET"}).then((e=>e.json())).then((e=>{this.detailPart=e,this.productList=e.products,this.filterLists=e.filter}))},company(e,t){this.filterItem=e[0];const a=[...e];e.length>0?fetch(`https://mscshop.vn/wp-json/wp/v3/filter-product?categories=${this.partID},${a.join(",")}`,{method:"GET"}).then((e=>e.json())).then((e=>{this.productList=e?.products,this.filterLists=e?.filters})):fetch(`https://mscshop.vn/wp-json/wp/v3/filter-product?categories=${this.partID}`,{method:"GET"}).then((e=>e.json())).then((e=>{this.productList=e?.products,this.filterLists=e?.filters}))}},methods:{checkDuplicate(e){return e.reduce(((e,t)=>this.company.includes(t.key)?[...e,t]:e),[])},addProduct(e){this.$emit("add-product",{...e,quantity:this.quantity}),this.showModalPC=!1},getDataPaginate(e){this.currentPage=e,this.startIndex=10*e-10,this.endIndex=10*e},handlePrevPage(){this.currentPage>1&&this.currentPage--,this.getDataPaginate(this.currentPage)},handleNextPage(){this.currentPage!==this.totalPages[this.totalPages.length-1]&&this.currentPage++,this.getDataPaginate(this.currentPage)},activePaginate(e){return e===this.currentPage?"border border-b-gray-300":""}}},ot=a(89);const dt=(0,ot.Z)(it,[["render",lt]]);var ct=dt;const ut={class:"flex py-2 px-3 justify-between items-center bg-gray-200"},mt=(0,l._)("h4",{class:"m-0 font-medium"},"Lưu cấu hình",-1),ht=["onClick"],pt=(0,l._)("i",{class:"fa fa-times font-medium text-black text-lg","aria-hidden":"true"},null,-1),ft=[pt],xt={class:"flex !flex-col mb-3"},bt=(0,l._)("label",{for:"fullname",class:"mb-1"},"Họ và tên",-1),gt={class:"flex !flex-col mb-3"},wt=(0,l._)("label",{for:"email",class:"mb-1"},"Email",-1),yt={class:"flex !flex-col mb-3"},Pt=(0,l._)("label",{for:"phone",class:"mb-1"},"Số điện thoại",-1),_t={class:"flex !flex-col"},vt=(0,l._)("label",{for:"address",class:"mb-1"},"Địa chỉ",-1),kt={class:"flex justify-end mt-4 pb-2"},Ct=["onClick"],Ut=(0,l._)("button",{type:"submit",class:"!bg-white !mb-0 text-sm text-blue-600"}," Gửi ",-1);function It(e,t,a,s,n,i){const o=(0,l.up)("vue-final-modal");return(0,l.wg)(),(0,l.j4)(o,(0,l.dG)({modelValue:n.showModalUser,"onUpdate:modelValue":t[5]||(t[5]=e=>n.showModalUser=e)},e.$attrs,{name:"modal-pc","lock-scroll":"false",classes:"flex justify-center items-center","content-class":"xs:max-w-[20rem] sm:max-w-[30rem] w-full relative h-auto flex !flex-col bg-white"}),{default:(0,l.w5)((({close:e})=>[(0,l._)("div",null,[(0,l._)("div",ut,[mt,(0,l._)("button",{class:"!mb-0 !mr-0 outline-none bg-transparent border-0",onClick:e},ft,8,ht)]),(0,l._)("form",{class:"flex !flex-col pt-4 px-3",onSubmit:t[4]||(t[4]=(0,r.iM)((e=>i.handleSubmit()),["prevent"]))},[(0,l._)("div",xt,[bt,(0,l.wy)((0,l._)("input",{type:"text",id:"fullname",class:"outline-none p-1 !mb-0","onUpdate:modelValue":t[0]||(t[0]=e=>n.fullname=e)},null,512),[[r.nr,n.fullname]])]),(0,l._)("div",gt,[wt,(0,l.wy)((0,l._)("input",{type:"email",id:"email",class:"outline-none p-1 !mb-0","onUpdate:modelValue":t[1]||(t[1]=e=>n.email=e)},null,512),[[r.nr,n.email]])]),(0,l._)("div",yt,[Pt,(0,l.wy)((0,l._)("input",{type:"text",id:"phone",class:"outline-none p-1 !mb-0","onUpdate:modelValue":t[2]||(t[2]=e=>n.phone=e)},null,512),[[r.nr,n.phone]])]),(0,l._)("div",_t,[vt,(0,l.wy)((0,l._)("input",{type:"text",id:"address",class:"outline-none p-1 !mb-0","onUpdate:modelValue":t[3]||(t[3]=e=>n.address=e)},null,512),[[r.nr,n.address]])]),(0,l._)("div",kt,[(0,l._)("button",{class:"mr-2 !mb-0 text-sm !bg-transparent text-gray-500",onClick:(0,r.iM)(e,["prevent"])}," Hủy ",8,Ct),Ut])],32)])])),_:1},16,["modelValue"])}var jt={name:"ModalUser",data(){return{showModalUser:!1,fullname:"",address:"",email:"",phone:""}},watch:{showModalUser(e){e||(this.fullname="",this.address="",this.phone="",this.email="")}},methods:{handleSubmit(){const e={fullname:this.fullname,address:this.address,phone:this.phone,email:this.email};this.$emit("save-build",e),this.showModalUser=!1}}};const Mt=(0,ot.Z)(jt,[["render",It]]);var Dt=Mt;const Lt={class:"p-2"},Bt={class:"max-w-2xl",id:"build-pc",ref:"printcontent"},Tt=(0,l._)("div",{class:"custom-export-header text-center bg-gray-200 p-4"},[(0,l._)("div",null,[(0,l._)("img",{src:"https://mscshop.vn/wp-content/themes/mscshop.vn/html/assets/images/logo1.jpg",alt:"mscshop.vn",width:"80",height:"80"})]),(0,l._)("h3",{class:"uppercase text-2xl mt-2 mb-0"},"xây dựng cấu hình pc")],-1),Vt={class:"custom-export-content p-4"},St={class:"max-w-[400px] flex items-center"},zt=["src"],Nt={class:"ml-4"},Et={class:"font-bold text-sm mt-0 mb-1 break-all"},Ot={class:"mt-0 mb-1 text-sm"},At={class:"mt-0 mb-1 text-sm"},Rt={class:"mt-0 mb-1 text-sm font-semibold"},qt={class:"flex-1 flex justify-end text-xl text-red-600 font-semibold"},$t={class:"text-center"},Ht={class:"text-xl font-bold text-red-600"},Gt=(0,l._)("div",{class:"p-2"},[(0,l._)("p",{class:"text-sm"},[(0,l._)("span",{class:"font-bold"},"Quý khách lưu ý: "),(0,l.Uk)(" Giá bán, khuyến mại của sản phẩm và tình trạng còn hàng có thể bị thay đổi bất cứ lúc nào mà không kịp báo trước. "),(0,l._)("br"),(0,l.Uk)(" Để biết thêm chi tiết, Quý khách vui lòng liên hệ MSCSHOP qua hotline: Điện thoại: 096.961.6882 - 088.688.6139 hoặc email: duong_startok@gmail.com "),(0,l._)("br"),(0,l.Uk)(" Một lần nữa MSCSHOP cảm ơn quý khách! ")])],-1),Ft={class:"flex justify-end"},Kt=["onClick"];function Yt(e,t,a,s,i,o){const d=(0,l.up)("vue-final-modal");return(0,l.wg)(),(0,l.j4)(d,(0,l.dG)({modelValue:i.showModalExportImage,"onUpdate:modelValue":t[1]||(t[1]=e=>i.showModalExportImage=e)},e.$attrs,{name:"modal-export-image","lock-scroll":"false",classes:"flex justify-center items-center","content-class":"xs:max-w-[30rem] sm:max-w-2xl w-full relative h-auto flex !flex-col bg-white"}),{default:(0,l.w5)((({close:e})=>[(0,l._)("div",Lt,[(0,l._)("div",Bt,[Tt,(0,l._)("div",Vt,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.selectedPartPC?.selectedPart,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"flex items-center mb-3",key:t},[(0,l._)("div",St,[(0,l._)("img",{src:e.image,width:"80",height:"80"},null,8,zt),(0,l._)("div",Nt,[(0,l._)("h3",Et,(0,n.zw)(e.name),1),(0,l._)("p",Ot,"Mã SP: "+(0,n.zw)(e.id),1),(0,l._)("p",At," Bảo hành: "+(0,n.zw)(e.guarantee||"12 tháng"),1),(0,l._)("p",Rt,(0,n.zw)(new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.price)||0),1)])]),(0,l._)("span",qt," = "+(0,n.zw)(new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.price)||0),1)])))),128))]),(0,l._)("div",$t,[(0,l._)("p",Ht," Tổng chi phí: "+(0,n.zw)(new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(a.selectedPartPC?.totalPartPC)||0),1)]),Gt],512),(0,l._)("div",Ft,[(0,l._)("button",{class:"text-sm bg-white",onClick:e},"Hủy",8,Kt),(0,l._)("button",{class:"text-sm bg-white text-blue-600",onClick:t[0]||(t[0]=(0,r.iM)((e=>o.handleExportImage()),["prevent"]))}," Tải ảnh ")])])])),_:1},16,["modelValue"])}var Zt=a(2269),Jt=a.n(Zt),Qt={name:"ExportImage",props:["selectedPartPC"],data(){return{showModalExportImage:!1}},methods:{async handleExportImage(){const e=this.$refs.printcontent,t={type:"dataURL",useCORS:!0,allowTaint:!1},a=await Jt()(e,t),l=document.createElement("a");l.setAttribute("download","build-pc.jpg"),l.setAttribute("href",a.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream")),l.click(),this.showModalExportImage=!1}}};const Wt=(0,ot.Z)(Qt,[["render",Yt]]);var Xt=Wt,ea={name:"BuildPC",components:{ModalPC:ct,ModalUser:Dt,ExportImage:Xt},data:()=>({products:[],API_URL:"https://mscshop.vn/wp-json/wp/v3",quantity:1,partPCMData:null,selectedPart:[],showModal:!1}),computed:{totalPartPC(){return this.selectedPart.reduce(((e,t)=>e+Number(t.price)*t.quantity),0)}},created(){fetch(this.API_URL+"/cus-product",{method:"GET",headers:{Authorization:"Basic "+btoa("5492d44e822df10d3626d1af0b7692871e7718d85214fe405958daec6871e53d:cs_300c7cc3f4de5bbfea7a918e95264a9f2be410db")}}).then((e=>e.json())).then((e=>{this.products=[...e]})),this.selectedPart=JSON.parse(localStorage.getItem("build-pc"))||[]},methods:{handleOpenModal(e){this.$refs.modal.showModalPC=!0,this.partPCMData=e.key},showData(e){this.selectedPart.push(e),window.localStorage.setItem("build-pc",JSON.stringify(this.selectedPart))},removePartPC(e){confirm("Bạn muốn bỏ sản phẩm này ?")&&(this.selectedPart=this.selectedPart.filter((t=>t.key!==e)),window.localStorage.setItem("build-pc",JSON.stringify(this.selectedPart)))},resetBuildPC(){this.selectedPart=[],window.localStorage.clear()},openSaveBuildPC(){this.$refs.modalUser.showModalUser=!0},async handleSaveBuildPC(e){try{const t={partPC:this.selectedPart,totalPrice:this.totalPartPC,user_info:e};await oe()({url:"https://mscshop.vn/wp-json/wp/v3/save-build",data:t,method:"POST",headers:{Authorization:"Basic "+btoa("ck_fe0716604f94669b17f35ebaff4c47b31d56d8be:ck_fe0716604f94669b17f35ebaff4c47b31d56d8be")}}),window.alert("Lưu cấu hình thành công")}catch(t){window.alert("Lỗi xảy ra, vui lòng thử lại")}finally{this.resetBuildPC()}},async handleAddToCart(){try{const e={partPC:this.selectedPart,totalPrice:this.totalPartPC};await oe()({url:"https://mscshop.vn/add-to-cart",data:e,method:"POST",headers:{Authorization:"Basic "+btoa("ck_fe0716604f94669b17f35ebaff4c47b31d56d8be:ck_fe0716604f94669b17f35ebaff4c47b31d56d8be")}}),window.alert("Thêm vào giỏ hàng thành công")}catch(e){window.alert("Lỗi xảy ra, vui lòng thử lại")}finally{this.resetBuildPC(),window.location.reload()}},async handleExportToExcel(){const e={partPC:this.selectedPart,totalPrice:this.totalPartPC},t=await oe()({url:"https://mscshop.vn/wp-json/wp/v3/download",method:"POST",responseType:"blob",data:e,headers:{Authorization:"Basic "+btoa("5492d44e822df10d3626d1af0b7692871e7718d85214fe405958daec6871e53d:cs_300c7cc3f4de5bbfea7a918e95264a9f2be410db")}}),a=window.URL.createObjectURL(new Blob([t.data])),l=document.createElement("a");l.href=a,l.setAttribute("download","build-pc.xlsx"),document.body.appendChild(l),l.click(),setTimeout((()=>{URL.revokeObjectURL(a),l.parentNode.removeChild(l)}),2e3),this.resetBuildPC()},async handlePrint(){const e={partPC:this.selectedPart,totalPrice:this.totalPartPC,user_info:{fullname:"",address:"",phone:"",email:""}},t=await oe()({url:"https://mscshop.vn/bao-gia",method:"POST",responseType:"blob",data:e,headers:{Authorization:"Basic "+btoa("5492d44e822df10d3626d1af0b7692871e7718d85214fe405958daec6871e53d:cs_300c7cc3f4de5bbfea7a918e95264a9f2be410db")}}),a=new Blob([t.data],{type:"text/html"}),l=window.URL.createObjectURL(a);window.open(l)},openExportToImage(){this.$refs.modalExportImage.showModalExportImage=!0},updateQuantity(e){const t={...e,quantity:this.quantity},a=this.selectedPart.findIndex((e=>e.id===t.id));this.selectedPart.splice(a,1,t)}}};const ta=(0,ot.Z)(ea,[["render",re]]);var aa=ta,la={name:"App",components:{BuildPC:aa},data(){return{API_URL:{NODE_ENV:"production",BASE_URL:"/"}.API_URL}}};const sa=(0,ot.Z)(la,[["render",s]]);var na=sa,ra=a(2848);const ia=(0,r.ri)(na);ia.component("ModalPC",ct),ia.use(ra.Jt).mount("#app")}},t={};function a(l){var s=t[l];if(void 0!==s)return s.exports;var n=t[l]={exports:{}};return e[l].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,l,s,n){if(!l){var r=1/0;for(c=0;c<e.length;c++){l=e[c][0],s=e[c][1],n=e[c][2];for(var i=!0,o=0;o<l.length;o++)(!1&n||r>=n)&&Object.keys(a.O).every((function(e){return a.O[e](l[o])}))?l.splice(o--,1):(i=!1,n<r&&(r=n));if(i){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[l,s,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={179:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var s,n,r=l[0],i=l[1],o=l[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(o)var c=o(a)}for(t&&t(l);d<r.length;d++)n=r[d],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},l=self["webpackChunkdemo_vue"]=self["webpackChunkdemo_vue"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(5720)}));l=a.O(l)})();
//# sourceMappingURL=main.61beb82b.js.map
